# =================================
# DAFFY APPLICATION CONFIGURATION
# =================================

# Server Configuration
server.port=8080
server.servlet.context-path=/api
spring.application.name=daffy-backend

# =================================
# DATABASE CONFIGURATION
# =================================

# H2 Database (Development)
spring.datasource.url=jdbc:h2:mem:daffydb
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=daffy
spring.datasource.password=daffy123
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# MySQL Database (Production) - Uncomment when ready
# spring.datasource.url=jdbc:mysql://localhost:3306/daffydb?createDatabaseIfNotExist=true&useSSL=false&serverTimezone=UTC
# spring.datasource.username=daffy
# spring.datasource.password=daffy123
# spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# JPA/Hibernate Configuration
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
# spring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.use_sql_comments=true
spring.jpa.defer-datasource-initialization=true

# =================================
# SECURITY & JWT CONFIGURATION
# =================================

# JWT Settings
daffy.jwt.secret=daffySecretKey2024ForUniversitySocialNetworkApplicationWithSecureTokenGeneration
daffy.jwt.expiration=86400000
daffy.jwt.refresh-expiration=604800000

# CORS Settings
daffy.cors.allowed-origins=http://localhost:3000,http://localhost:3001
daffy.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
daffy.cors.allowed-headers=*
daffy.cors.allow-credentials=true

# =================================
# EMAIL CONFIGURATION
# =================================

# SMTP Configuration (Gmail example)
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=${DAFFY_EMAIL_USERNAME:your-email@gmail.com}
spring.mail.password=${DAFFY_EMAIL_PASSWORD:your-app-password}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true

# Email Templates
daffy.email.from=noreply@daffy.edu
daffy.email.verification.subject=Verify Your Daffy Account
daffy.email.verification.template=verification-email

# =================================
# FILE UPLOAD CONFIGURATION
# =================================

# File Upload Settings
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=50MB
daffy.upload.path=${DAFFY_UPLOAD_PATH:uploads/}
daffy.upload.profile-images=profile-images/
daffy.upload.cover-images=cover-images/
daffy.upload.post-media=post-media/

# =================================
# LOGGING CONFIGURATION
# =================================

# Logging Levels
logging.level.com.daffy=DEBUG
logging.level.org.springframework.security=DEBUG
logging.level.org.springframework.web=DEBUG
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# Log File
logging.file.name=logs/daffy.log
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n
logging.pattern.console=%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n

# =================================
# ACTUATOR CONFIGURATION
# =================================

# Management Endpoints
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=when_authorized
management.info.env.enabled=true

# =================================
# APPLICATION SPECIFIC SETTINGS
# =================================

# Business Logic Settings
daffy.users.max-friends=5000
daffy.clubs.max-members=10000
daffy.posts.max-hashtags=10
daffy.verification.token-expiry=24
daffy.trends.update-interval=60

# Feature Flags
daffy.features.email-verification=true
daffy.features.friend-suggestions=true
daffy.features.trending-hashtags=true
daffy.features.club-notifications=true

# Cache Settings
spring.cache.type=simple
daffy.cache.trends-ttl=300
daffy.cache.user-profile-ttl=600

# =================================
# DEVELOPMENT SETTINGS
# =================================

# Development Mode
daffy.dev.mode=true
daffy.dev.mock-email=true
daffy.dev.auto-verify-users=false
daffy.dev.seed-data=true

# Performance Settings
spring.jpa.properties.hibernate.jdbc.batch_size=20
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true
spring.jpa.properties.hibernate.jdbc.batch_versioned_data=true